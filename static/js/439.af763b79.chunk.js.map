{"version":3,"file":"static/js/439.af763b79.chunk.js","mappings":"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","sources":["components/BackLink/BackLink.js","components/fetches.js","components/MovieCard/MovieCard.styled.js","components/MovieCard/MovieCard.js","components/pages/MovieDetails/MovieDetails.js"],"sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { GiReturnArrow } from 'react-icons/gi';\n\nexport function BackLink({ to, children }) {\n  return (\n    <Link to={to}>\n      <GiReturnArrow />\n      Return to previous page\n    </Link>\n  );\n}\n","import axios from 'axios';\n\nconst API_KEY = '21cb5b2c9822fef4849f89544064d2b9';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nexport const fetchPopulars = async controller => {\n  const resp = await axios.get(`/trending/movie/day?api_key=${API_KEY}`, {\n    signal: controller.signal,\n  });\n  return resp.data;\n};\n\nexport const fetchSearch = async (query, controller) => {\n  const resp = await axios.get(\n    `/search/movie?api_key=${API_KEY}&query=${query}`,\n    {\n      signal: controller.signal,\n    }\n  );\n  return resp.data;\n};\n\nexport const fetchMovieById = async (mId, controller) => {\n  const resp = await axios.get(`/movie/${mId}?api_key=${API_KEY}`, {\n    signal: controller.signal,\n  });\n  return resp.data;\n};\n\nexport const fetchCastById = async (mId, controller) => {\n  const resp = await axios.get(`/movie/${mId}/credits?api_key=${API_KEY}`, {\n    signal: controller.signal,\n  });\n  return resp.data;\n};\n\nexport const fetchReviewsById = async (mId, controller) => {\n  const resp = await axios.get(`/movie/${mId}/reviews?api_key=${API_KEY}`, {\n    signal: controller.signal,\n  });\n  return resp.data;\n};\n","import styled from 'styled-components';\n\nexport const Card = styled.div`\n  display: flex;\n  padding: 16px;\n  gap: 16px;\n`;\n\nexport const AdditionalInfo = styled.div`\n  padding: 12px;\n  margin-bottom: 8px;\n  box-shadow: 1px 1px 1px grey;\n`;\n","import React from 'react';\nimport { Card } from './MovieCard.styled';\n\nexport function MovieCard({ movie }) {\n  const ganres = movie.genres?.map(ganre => ganre.name).join(' ');\n  return (\n    <Card>\n      <img\n        src={`https://image.tmdb.org/t/p/w300/${movie.poster_path}`}\n        alt={movie.original_title}\n      />\n      <div>\n        <h2>{movie.original_title}</h2>\n        <p>User score: {movie.vote_average}</p>\n        <h3>Overview</h3>\n        <p>{movie.overview}</p>\n        <h3>Genres</h3>\n        <p>{ganres}</p>\n      </div>\n    </Card>\n  );\n}\n","import { fetchMovieById } from 'components/fetches';\nimport React, { useState, useEffect, Suspense } from 'react';\nimport { Link, Outlet, useLocation, useParams } from 'react-router-dom';\nimport { MovieCard } from 'components/MovieCard/MovieCard';\nimport { AdditionalInfo } from 'components/MovieCard/MovieCard.styled';\nimport { BackLink } from 'components/BackLink/BackLink';\n\nexport default function MovieDetails() {\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(false);\n  const [movie, setMovie] = useState({});\n  const { movieId } = useParams();\n  const location = useLocation();\n\n  useEffect(() => {\n    const ctr = new AbortController();\n    async function getMovieById(controller) {\n      try {\n        setError(false);\n        setLoading(true);\n        const data = await fetchMovieById(movieId, controller);\n        setMovie(data);\n      } catch (error) {\n        if (error.code !== 'ERR_CANCELED') {\n          setError(true);\n          console.log(error.message);\n        }\n      } finally {\n        setLoading(false);\n      }\n    }\n    getMovieById(ctr);\n    return () => ctr.abort();\n  }, [movieId]);\n\n  return (\n    <div>\n      <BackLink to={location.state?.from ?? '/'} />\n      {movie.original_title && (\n        <>\n          <MovieCard movie={movie} />\n          <AdditionalInfo>\n            <p>Additional information</p>\n            <ul>\n              <li>\n                <Link to={`/movies/${movieId}/cast`}>Cast</Link>\n              </li>\n              <li>\n                <Link to={`/movies/${movieId}/reviews`}>Reviews</Link>\n              </li>\n            </ul>\n          </AdditionalInfo>\n        </>\n      )}\n      {loading && <div>Loading...</div>}\n      {error && <div>Something went wrong...</div>}\n\n      <Suspense fallback={<div>Loading...</div>}>\n        <Outlet />\n      </Suspense>\n    </div>\n  );\n}\n"],"names":["BackLink","_ref","to","children","_jsxs","Link","_jsx","GiReturnArrow","API_KEY","axios","fetchPopulars","_asyncToGenerator","_regeneratorRuntime","_callee","controller","resp","_context","prev","next","concat","signal","sent","abrupt","data","stop","_x","apply","arguments","fetchSearch","_ref2","_callee2","query","_context2","_x2","_x3","fetchMovieById","_ref3","_callee3","mId","_context3","_x4","_x5","fetchCastById","_ref4","_callee4","_context4","_x6","_x7","fetchReviewsById","_ref5","_callee5","_context5","_x8","_x9","Card","styled","_templateObject","_taggedTemplateLiteral","AdditionalInfo","_templateObject2","MovieCard","_movie$genres","movie","ganres","genres","map","ganre","name","join","src","poster_path","alt","original_title","vote_average","overview","MovieDetails","_location$state$from","_location$state","_useState","useState","_useState2","_slicedToArray","loading","setLoading","_useState3","_useState4","error","setError","_useState5","_useState6","setMovie","movieId","useParams","location","useLocation","useEffect","ctr","AbortController","_getMovieById","t0","code","console","log","message","finish","getMovieById","abort","state","from","_Fragment","Suspense","fallback","Outlet"],"sourceRoot":""}