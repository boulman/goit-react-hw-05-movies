{"version":3,"file":"static/js/725.d140fa8a.chunk.js","mappings":"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","sources":["components/BackLink/BackLink.js","components/fetches.js","components/pages/Movies/Movies.js"],"sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { GiReturnArrow } from 'react-icons/gi';\n\nexport function BackLink({ to }) {\n  return (\n    <Link to={to}>\n      <GiReturnArrow />\n      Return to previous page\n    </Link>\n  );\n}\n","import axios from 'axios';\n\nconst API_KEY = '21cb5b2c9822fef4849f89544064d2b9';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nexport const fetchPopulars = async controller => {\n  const resp = await axios.get(`/trending/movie/day?api_key=${API_KEY}`, {\n    signal: controller.signal,\n  });\n  return resp.data;\n};\n\nexport const fetchSearch = async (query, controller) => {\n  const resp = await axios.get(\n    `/search/movie?api_key=${API_KEY}&query=${query}`,\n    {\n      signal: controller.signal,\n    }\n  );\n  return resp.data;\n};\n\nexport const fetchMovieById = async (mId, controller) => {\n  const resp = await axios.get(`/movie/${mId}?api_key=${API_KEY}`, {\n    signal: controller.signal,\n  });\n  return resp.data;\n};\n\nexport const fetchCastById = async (mId, controller) => {\n  const resp = await axios.get(`/movie/${mId}/credits?api_key=${API_KEY}`, {\n    signal: controller.signal,\n  });\n  return resp.data;\n};\n\nexport const fetchReviewsById = async (mId, controller) => {\n  const resp = await axios.get(`/movie/${mId}/reviews?api_key=${API_KEY}`, {\n    signal: controller.signal,\n  });\n  return resp.data;\n};\n","import { BackLink } from 'components/BackLink/BackLink';\nimport { fetchSearch } from 'components/fetches';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\n\nexport default function Movies() {\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(false);\n  const [movies, setMovies] = useState([]);\n  const location = useLocation();\n  const controller = useRef();\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const getMovies = async query => {\n    if (controller.current) {\n      controller.current.abort();\n    }\n    controller.current = new AbortController();\n    try {\n      setError(false);\n      setLoading(true);\n      const data = await fetchSearch(query, controller.current);\n      setMovies(data.results);\n    } catch (error) {\n      if (error.code !== 'ERR_CANCELED') {\n        setError(true);\n        console.log(error.message);\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n    if (!e.target[0].value) {\n      return;\n    }\n    setSearchParams({ query: e.target[0].value });\n  }\n\n  useEffect(() => {\n    const query = searchParams.get('query');\n    if (!query) {\n      return;\n    }\n    getMovies(query);\n  }, [searchParams]);\n  return (\n    <div>\n      <BackLink to={location.state?.from ?? '/'} />\n      <form onSubmit={handleSubmit}>\n        <input type=\"text\" />\n        <button type=\"submit\">Search</button>\n      </form>\n      <ul>\n        {movies?.map(movie => (\n          <li key={movie.id}>\n            <Link to={`/movies/${movie.id}`} state={{ from: location }}>\n              {movie.title}\n            </Link>\n          </li>\n        ))}\n      </ul>\n      {loading && <div>Loading...</div>}\n      {error && <div>Something went wrong...</div>}\n    </div>\n  );\n}\n"],"names":["BackLink","_ref","to","_jsxs","Link","children","_jsx","GiReturnArrow","API_KEY","axios","fetchPopulars","_asyncToGenerator","_regeneratorRuntime","_callee","controller","resp","_context","prev","next","concat","signal","sent","abrupt","data","stop","_x","apply","arguments","fetchSearch","_ref2","_callee2","query","_context2","_x2","_x3","fetchMovieById","_ref3","_callee3","mId","_context3","_x4","_x5","fetchCastById","_ref4","_callee4","_context4","_x6","_x7","fetchReviewsById","_ref5","_callee5","_context5","_x8","_x9","Movies","_location$state$from","_location$state","_useState","useState","_useState2","_slicedToArray","loading","setLoading","_useState3","_useState4","error","setError","_useState5","_useState6","movies","setMovies","location","useLocation","useRef","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","getMovies","current","abort","AbortController","results","t0","code","console","log","message","finish","_handleSubmit","e","preventDefault","target","value","useEffect","get","state","from","onSubmit","type","map","movie","id","title"],"sourceRoot":""}