"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[725],{652:function(t,n,r){r.d(n,{h:function(){return c}});r(791);var e=r(87),a=r(952),u=r(184);function c(t){var n=t.to;return(0,u.jsxs)(e.rU,{to:n,children:[(0,u.jsx)(a.lox,{}),"Return to previous page"]})}},529:function(t,n,r){r.d(n,{IV:function(){return p},Mc:function(){return f},O$:function(){return s},on:function(){return o},wH:function(){return l}});var e=r(861),a=r(757),u=r.n(a),c=r(243),i="21cb5b2c9822fef4849f89544064d2b9";c.Z.defaults.baseURL="https://api.themoviedb.org/3";var s=function(){var t=(0,e.Z)(u().mark((function t(n){var r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.Z.get("/trending/movie/day?api_key=".concat(i),{signal:n.signal});case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),o=function(){var t=(0,e.Z)(u().mark((function t(n,r){var e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.Z.get("/search/movie?api_key=".concat(i,"&query=").concat(n),{signal:r.signal});case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})));return function(n,r){return t.apply(this,arguments)}}(),f=function(){var t=(0,e.Z)(u().mark((function t(n,r){var e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.Z.get("/movie/".concat(n,"?api_key=").concat(i),{signal:r.signal});case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})));return function(n,r){return t.apply(this,arguments)}}(),p=function(){var t=(0,e.Z)(u().mark((function t(n,r){var e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.Z.get("/movie/".concat(n,"/credits?api_key=").concat(i),{signal:r.signal});case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})));return function(n,r){return t.apply(this,arguments)}}(),l=function(){var t=(0,e.Z)(u().mark((function t(n,r){var e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.Z.get("/movie/".concat(n,"/reviews?api_key=").concat(i),{signal:r.signal});case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})));return function(n,r){return t.apply(this,arguments)}}()},725:function(t,n,r){r.r(n),r.d(n,{default:function(){return v}});var e=r(861),a=r(439),u=r(757),c=r.n(u),i=r(652),s=r(529),o=r(791),f=r(689),p=r(87),l=r(184);function v(){var t,n,r=(0,o.useState)(!1),u=(0,a.Z)(r,2),v=u[0],d=u[1],h=(0,o.useState)(!1),x=(0,a.Z)(h,2),g=x[0],m=x[1],w=(0,o.useState)([]),b=(0,a.Z)(w,2),y=b[0],k=b[1],Z=(0,f.TH)(),_=(0,o.useRef)(),j=(0,p.lr)(),S=(0,a.Z)(j,2),C=S[0],R=S[1],E=function(){var t=(0,e.Z)(c().mark((function t(n){var r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return _.current&&_.current.abort(),_.current=new AbortController,t.prev=2,m(!1),d(!0),t.next=7,(0,s.on)(n,_.current);case 7:r=t.sent,k(r.results),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),"ERR_CANCELED"!==t.t0.code&&(m(!0),console.log(t.t0.message));case 14:return t.prev=14,d(!1),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[2,11,14,17]])})));return function(n){return t.apply(this,arguments)}}();function q(){return(q=(0,e.Z)(c().mark((function t(n){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),n.target[0].value){t.next=3;break}return t.abrupt("return");case 3:R({query:n.target[0].value});case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return(0,o.useEffect)((function(){var t=C.get("query");t&&E(t)}),[C]),(0,l.jsxs)("div",{children:[(0,l.jsx)(i.h,{to:null!==(t=null===(n=Z.state)||void 0===n?void 0:n.from)&&void 0!==t?t:"/"}),(0,l.jsxs)("form",{onSubmit:function(t){return q.apply(this,arguments)},children:[(0,l.jsx)("input",{type:"text"}),(0,l.jsx)("button",{type:"submit",children:"Search"})]}),(0,l.jsx)("ul",{children:null===y||void 0===y?void 0:y.map((function(t){return(0,l.jsx)("li",{children:(0,l.jsx)(p.rU,{to:"/movies/".concat(t.id),state:{from:Z},children:t.title})},t.id)}))}),v&&(0,l.jsx)("div",{children:"Loading..."}),g&&(0,l.jsx)("div",{children:"Something went wrong..."})]})}}}]);
//# sourceMappingURL=725.d140fa8a.chunk.js.map